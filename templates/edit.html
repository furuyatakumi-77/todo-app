<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>タスク編集</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
    <div class="container py-5">
        <h1 class="mb-4">タスク編集</h1>

        <!-- 編集フォーム -->
        <form id="editForm" method="post" class="d-flex flex-column">
            <textarea id="editInput" name="task" class="form-control mb-3" rows="3">{{ todo[1] }}</textarea>
            <div>
                <button type="submit" class="btn btn-success">更新</button>
                <a href="{{ url_for('index') }}" class="btn btn-secondary">キャンセル</a>
            </div>
        </form>
    </div>

    <script>
    document.getElementById("editInput").addEventListener("keydown", function(e) {
        if (e.key === "Enter" && !e.shiftKey) {
            e.preventDefault(); // 改行を止める
            document.getElementById("editForm").submit(); // フォーム送信
        }
        // Shift+Enter は改行できる
    });
    </script>
</body>
</html>

